<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <link rel="stylesheet" href="/css/header.css">
  <link rel="stylesheet" href="/webjars/bootstrap/5.3.0/css/bootstrap.min.css">
</head>
<body>

  <header>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container d-flex header-container justify-content-center">
        <!-- First Row -->
        <div class="row w-100 flex-column flex-lg-row">
          <!-- First Container (Logo and Menu Button) -->
          <div class="col-lg-3 col-xl-2 d-flex justify-content-center align-items-center">
            <!-- Logo -->
            <a href="/" class="navbar-brand logo-img d-flex justify-content-center ms-lg-2">
              <img src="/images/video_clip_logo.png" alt="logo" class="mx-auto">
            </a>

            <!-- Menu Button with Dropdown -->
            <span class="dropdown">
              <button class="btn dropdown-toggle" type="button" id="menuButton" data-bs-toggle="dropdown" aria-expanded="false">
                Menu
              </button>
              <ul class="dropdown-menu" aria-labelledby="menuButton">
                <li><a class="dropdown-item" href="/home">Home</a></li>
                <li><a class="dropdown-item" href="/about">About Us</a></li>
                <li><a class="dropdown-item" href="/services">Services</a></li>
                <li><a class="dropdown-item" href="/contact">Contact</a></li>
                <li><a class="dropdown-item" href="/login">Σύνδεση</a></li>
              </ul>
            </span>
          </div>


          <!-- Second Container (Search Bar and Login Button) -->
          <div class="col-lg-9 col-xl-10 d-flex flex-column flex-lg-row align-items-center justify-content-lg-end">
            <!-- Search Bar -->
            <form class="d-flex w-100 w-sm-75 w-md-50 mx-3 me-lg-5" role="search">
              <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
              <button class="btn btn-outline-success my-1 mx-1" type="submit">Search</button>
            </form>

            <!-- Σύνδεση link -->
            <ul class="navbar-nav mb-2 mb-lg-0">
              <li class="nav-item">
                <button class="login-btn me-3" id="login-profile-button" style="visibility:hidden">...</button>
              </li>
            </ul>
<!--            <a href="/login" id="header-login-button" class="navbar-nav nav-link me-3">Σύνδεση</a>-->
          </div>
        </div>
      </div>
    </nav>

    <!-- Popup Form -->
    <div class="blur-bg-overlay"></div>

    <div class="form-popup">

      <form th:action="@{/login}" method="post" id="loginForm">
        <span class="close-btn material-symbols-rounded">close</span>
        <div class="form-box login">
          <div class="form-details">
            <h2 class="text-white">Welcome Back!</h2>
          </div>
          <div class="form-content">
            <h2>Log In</h2>

            <p id="failed-login-message"></p>
            <div class="input-field">
              <input type="text" th:name="username" class="form-control" required="required" id="login-username" />
              <label>Username</label>
            </div>
            <div class="input-field">
              <input type="password" th:name="password" class="form-control" required="required" id="login-password" />
              <label>Password</label>
            </div>
            <button type="submit" class="w-100 mt-1">Log In</button>
            <div class="spinner-border text-darkmagenta mt-3" id="loading-spinner-login" style="visibility: hidden;"></div>

            <div class="bottom-link">
              Don't have an account?
              <a href="#" id="signup-link">Sign Up</a>
            </div>
          </div>
        </div>
      </form>

      <form th:action="@{/register}" method="post" id="signUpForm">
        <div class="form-horizontal login-form">
          <div class="form-box signup">
            <div class="form-details">
              <h2 class="text-white">Create Account</h2>
            </div>
            <div class="form-content">
              <h2>Sign up</h2>

              <p id="failed-sign-up-message"></p>

              <div class="input-field">
                <input type="text" th:name="username" class="form-control" required="required" id="register-username" />
                <label>Enter your username</label>
              </div>

              <div class="input-field">
                <input type="password" th:name="password" class="form-control" required="required" id="register-password" />
                <label>Create password</label>
              </div>

              <div class="policy-text">
                <input type="checkbox" id="policy" />
                <label for="policy">
                  I agree to <a href="#">Terms & Conditions</a>
                </label>
              </div>
              <button type="submit" style="width: 100%;">Sign Up</button>
              <div class="spinner-border text-darkmagenta mt-3" id="loading-spinner-sign-up" style="visibility: hidden;"></div>

              <div class="bottom-link">
                Already have an account?
                <a href="#" id="login-link">Login</a>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>

    <script src="/webjars/jquery/3.6.4/jquery.min.js"></script>
    <script src="/webjars/popper.js/2.11.7/umd/popper.min.js"></script>
    <script src="/webjars/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>

    <script src="/js/header.js"></script>

  </header>

</body>
</html>
